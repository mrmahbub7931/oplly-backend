(()=>{function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var a,i,n;return a=t,n=[{key:"initCharts",value:function(){var e=$("div[data-stats]").data("stats"),t=$("div[data-country-stats]").data("country-stats"),a=$("div[data-lang-pageviews]").data("lang-pageviews"),i=$("div[data-lang-visits]").data("lang-visits"),n=[];$.each(e,(function(e,t){n.push({axis:t.axis,visitors:t.visitors,pageViews:t.pageViews})})),new Morris.Area({element:"stats-chart",resize:!0,data:n,xkey:"axis",ykeys:["visitors","pageViews"],labels:[i,a],lineColors:["#dd4d37","#3c8dbc"],hideHover:"auto",parseTime:!1});var o={};$.each(t,(function(e,t){o[t[0]]=t[1]})),$(document).find("#world-map").vectorMap({map:"world_mill_en",backgroundColor:"transparent",regionStyle:{initial:{fill:"#e4e4e4","fill-opacity":1,stroke:"none","stroke-width":0,"stroke-opacity":1}},series:{regions:[{values:o,scale:["#c64333","#dd4b39"],normalizeFunction:"polynomial"}]},onRegionLabelShow:function(e,t,a){void 0!==o[a]&&t.html(t.html()+": "+o[a]+" "+i)}})}}],(i=null)&&e(a.prototype,i),n&&e(a,n),Object.defineProperty(a,"prototype",{writable:!1}),t}();$(document).ready((function(){BDashboard.loadWidget($("#widget_analytics_general").find(".widget-content"),route("analytics.general"),null,(function(){t.initCharts()})),$(document).on("click","#widget_analytics_general .portlet > .portlet-title .tools > a.reload",(function(e){e.preventDefault(),BDashboard.loadWidget($("#widget_analytics_general").find(".widget-content"),route("analytics.general"),null,(function(){t.initCharts()}))})),BDashboard.loadWidget($("#widget_analytics_page").find(".widget-content"),route("analytics.page")),BDashboard.loadWidget($("#widget_analytics_browser").find(".widget-content"),route("analytics.browser")),BDashboard.loadWidget($("#widget_analytics_referrer").find(".widget-content"),route("analytics.referrer"))}))})();