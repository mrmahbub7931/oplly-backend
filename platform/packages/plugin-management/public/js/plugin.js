(()=>{function n(n,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}var e=function(){function e(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var o,a,t;return o=e,(a=[{key:"init",value:function(){$("#plugin-list").on("click",".btn-trigger-change-status",(function(n){n.preventDefault();var e=$(n.currentTarget);e.addClass("button-loading"),$.ajax({url:route("plugins.change.status",{name:e.data("plugin")}),type:"PUT",success:function(n){n.error?Canopy.showError(n.message):(Canopy.showSuccess(n.message),$("#plugin-list #app-"+e.data("plugin")).load(window.location.href+" #plugin-list #app-"+e.data("plugin")+" > *"),window.location.reload()),e.removeClass("button-loading")},error:function(n){Canopy.handleError(n),e.removeClass("button-loading")}})})),$(document).on("click",".btn-trigger-remove-plugin",(function(n){n.preventDefault(),$("#confirm-remove-plugin-button").data("plugin",$(n.currentTarget).data("plugin")),$("#remove-plugin-modal").modal("show")})),$(document).on("click","#confirm-remove-plugin-button",(function(n){n.preventDefault();var e=$(n.currentTarget);e.addClass("button-loading"),$.ajax({url:route("plugins.remove",{plugin:e.data("plugin")}),type:"DELETE",success:function(n){n.error?Canopy.showError(n.message):(Canopy.showSuccess(n.message),window.location.reload()),e.removeClass("button-loading"),$("#remove-plugin-modal").modal("hide")},error:function(n){Canopy.handleError(n),e.removeClass("button-loading"),$("#remove-plugin-modal").modal("hide")}})}))}}])&&n(o.prototype,a),t&&n(o,t),Object.defineProperty(o,"prototype",{writable:!1}),e}();$(document).ready((function(){(new e).init()}))})();